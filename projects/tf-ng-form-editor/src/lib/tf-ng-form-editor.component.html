
<div nz-row nzJustify="center" nzAlign="middle" class="initial-page-wrapper" *ngIf="!ready">
  <div nz-col *ngIf="!initForm">
    <i class="white text-super-xl" nz-icon [nzType]="'loading'"></i>
  </div>
  <form-editor-new-form nz-col nzFlex="auto" *ngIf="initForm" (formInited)="onFormCreated()"></form-editor-new-form>
</div>


<!-- Form has been created -->
<div nz-row class="form-editor-page" *ngIf="ready">

  <div nz-col nzFlex="80px" class="form-editor-navigation">
    <form-editor-navigation
      [disabled]="editorMode !== 'edit'"
    ></form-editor-navigation>
  </div>

  <div nz-col nzFlex="auto" class="form-editor-content">
    <div nz-row nzFlex="auto" class="form-editor-page-title">

      <form-editor-page-header></form-editor-page-header>

    </div> <!-- END form-editor-title-->

    <div nz-row nzGutter="16" class="form-editor-page-details" *ngIf="editorMode === 'edit'">


      <div nz-col nzFlex="300px">
        <div class="form-editor-field-detail rounded bg-white">
          <form-editor-tree-view></form-editor-tree-view>
        </div>
      </div>

      <!-- <div nz-col nzFlex="345px">
        <div class="form-editor-field-detail rounded bg-white">
          <form-editor-field-details></form-editor-field-details>
        </div>
      </div> -->


      <div nz-col nzFlex="auto">
        <div class="form-editor-field-detail rounded bg-white">
          <form-editor-field></form-editor-field>
        </div>
      </div>

      <div nz-col [nzFlex]="showInlinePreview ? '450px' : '30px' " class="dynamic-width">
        <form-editor-inline-preview
          [showInlinePreview]="showInlinePreview"
          (updatedShowInlinePreview)="onShowInlinePreviewUpdated($event)"
        ></form-editor-inline-preview>
      </div>

    </div> <!-- END form-editor-details-->


    <div
      nz-row nzGutter="16"
      class="form-editor-preview-wrapper"
      *ngIf="editorMode === 'preview'"
    >

      <div nz-col nzFlex="auto">
        <div class="form-editor-preview rounded bg-white">
          <tf-ng-form></tf-ng-form>
        </div>
      </div>

      <div nz-col nzFlex="280px">
        <div class="form-editor-field-detail rounded bg-white">
          <!--  -->
          <tf-ng-item colour="white">
            <!-- <p>
              For development purposes you can select 'Show source' to see and copy the forms JSON
            </p> -->
            <button nz-button nzType="primary" nzBlock (click)="showFormSource()">
              <i nz-icon nzType="code" nzTheme="outline"></i>
              Show source
            </button>
          </tf-ng-item>


        </div>
      </div>

    </div> <!-- END form-editor-details-->

  </div>

</div> <!-- END form-editor-page-->



