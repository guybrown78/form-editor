<div *ngIf="!fieldItem" class="wrapper width-all ant-form">
  <tf-ng-form-title class="title">
    <h4 ng-typography nz-col nzFlex="auto" class="blue">
      Selected field details
    </h4>
  </tf-ng-form-title>
  <p class="grey">Select a field item from the 'Overview' tree to start editing</p>
</div>

<div class="wrapper width-all ant-form" *ngIf="fieldItem && selectableItem">

  <tf-ng-form-title class="title">

    <div nz-row nzJustify="space-between" nzAlign="middle" class="flex-title-wrapper">
      <h4 ng-typography nz-col nzFlex="auto" class="blue">
        {{ fieldItem?.label }}
      </h4>
      <span nz-col class="blue">
        Type: {{ selectableItem?.label }}
      </span>
    </div>

  </tf-ng-form-title>


  <p *ngIf="selectableItem?.description" >
    {{ selectableItem?.description }}
  </p>

  <nz-tabset
    class="navy"
    (nzSelectedIndexChange)="onSelectedTabIndexChange($event)"
  >

    <nz-tab
      *ngFor="let tab of availableTabs"
      [(nzSelectedIndex)]="tabIndex"
      [nzTitle]="tab.label"
      [nzDisabled]="tab.disabled"
    >

      <field-item-editor
        *ngIf="tab.value === 'editor'"
        [active]="availableTabs[tabIndex].value === 'editor'"
        [editorItemModel]="editorItemModel"
        (updatedFieldItem)="onUpdatedFieldItem($event)"
      ></field-item-editor>

      <field-item-layout
        *ngIf="tab.value === 'layout'"
        [active]="availableTabs[tabIndex].value === 'layout'"
        [editorItemModel]="editorItemModel"
        (updatedFieldItem)="onUpdatedFieldItem($event)"
      ></field-item-layout>

      <field-item-config-options
        *ngIf="tab.value === 'options'"
        [active]="availableTabs[tabIndex].value === 'options'"
        [editorItemModel]="editorItemModel"
        (updatedFieldItem)="onUpdatedFieldItem($event)"
      ></field-item-config-options>

      <field-item-permissions
        *ngIf="tab.value === 'permissions'"
        [active]="availableTabs[tabIndex].value === 'permissions'"
        [editorItemModel]="editorItemModel"
      ></field-item-permissions>

    </nz-tab>

  </nz-tabset>

</div>
